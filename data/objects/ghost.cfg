{
id: "ghost",
editor_info: { category: "enemy" },

friction: 1700,
properties: {
	turn_to_player: "set(facing, if(level.player.midpoint_x < self.midpoint_x, -1, 1))",
	is_player_close: "if(
		abs(level.player.midpoint_x - self.midpoint_x) < 200 and
		abs(level.player.midpoint_y - self.midpoint_y) < 150,
		1, 0)",
},

on_process: "turn_to_player",
on_process_stand: "if(is_player_close, set(animation, 'walk'))",

on_end_stand_anim: "set(animation, 'stand')",
on_end_attack_anim: "set(animation, 'stand')",				
on_end_walk_anim: "set(animation, 'stand')",
on_end_jump_anim: "[set(animation, 'fall')]",
on_end_stunned_anim: "set(animation, 'stand')",

on_collide_feet: "set(animation, 'stand')",
on_collide_object_body: "if(collide_with_area = 'attack', [
	debug('hit ghost'),
	set(animation, 'stunned'),
	])",

animation: [
	{
		id: "stand",
		image: "ortho.png",
		rect: [4,4,57,57],
		solid_area: [0,0,53,53],
		body_area: [0,0,53,53],
		pad: 3,
		duration: 12,
		frames: 5,
		accel_x: 0,
		accel_y: 80
	},
	{
		frames_per_row: 8,
		
		id: "walk",
		image: "ortho.png",
		rect: [5,121,58,174],
		solid_area: [0,0,53,53],
		body_area: [0,0,53,53],
		pad: 3,
		duration: 8,
		frames: 6,
		accel_x: 1000,
		accel_y: 80,
	},
	
	{
		frames_per_row: 4,
		
		id: "jump",
		image: "ortho.png",
		rect: [9,62,62,115],
		solid_area: [0,0,53,53],
		body_area: [0,0,53,53],
		pad: 3,
		duration: 5,
		frames: 3,
		accel_x: 0,
		accel_y: 80,
		velocity_y: -1400
		
	},
	
	{
		frames_per_row: 4,
		
		id: "fall",
		image: "ortho.png",
		rect: [123,62,176,115],
		solid_area: [0,0,53,53],
		body_area: [0,0,53,53],
		pad: 3,
		duration: 5,
		frames: 1,
		accel_x: 0,
		accel_y: 80
		
	},
	
	{
		id: "attack",
		image: "ortho.png",
		rect: [5,180,93,240],
		solid_area: [0,0,53,53],
		body_area: [0,0,53,53],
		pad: 3,
		duration: 5,
		frames: 6,
		frames_per_row: 3,
		accel_y: 80
		
	},
	{
		id: "stunned",
		image: "ortho.png",
		rect: [123,62,176,115],
		solid_area: [0,0,53,53],
		body_area: [0,0,53,53],
		pad: 3,
		duration: 50,
		frames: 1,
		accel_x: 0,
		accel_y: 80
	},
]
}